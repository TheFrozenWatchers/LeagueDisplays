"use strict";define("screensaver-player/app",["exports","ember","screensaver-player/resolver","ember-load-initializers","screensaver-player/config/environment"],function(e,t,n,r,i){var a=void 0;t.default.MODEL_FACTORY_INJECTIONS=!0,a=t.default.Application.extend({modulePrefix:i.default.modulePrefix,podModulePrefix:i.default.podModulePrefix,Resolver:n.default}),(0,r.default)(a,i.default.modulePrefix),e.default=a}),define("screensaver-player/components/player/screensaver-player/component",["exports","ember"],function(e,t){e.default=t.default.Component.extend({nextBufferIndex:0,zoomPanFactor:.2,rotationBegun:!1,transitionDuration:3e3,init:function(){this._super(),this.set("windowSizeStyle",t.default.String.htmlSafe("width:"+this.get("width")+"px;height:"+this.get("height")+"px;")),this.set("buffer0",t.default.Object.create()),this.set("buffer1",t.default.Object.create())},_playlistReadyObserver:t.default.observer("playlist",function(){this.get("playlist")&&(this.set("_random",this.get("_mirrorDisplay")?this._mirrorRandom:this._defaultRandom),this._setupBuffer(1))}),_randomSeed:Math.floor(Date.now()/36e5),_mirrorRandom:function(e){var t=(9301*this._randomSeed+49297)%233280;return this.set("_randomSeed",t),t/233280*e},_defaultRandom:function(e){return Math.random()*e},_startVideo:function(e){var t=this._findVideoElement(e);t?(t.currentTime=0,t.play()):console.log("player: _startVideo: elVideo cannot be found.")},_continueVideo:function(e){var t=this.get("buffer"+e),n=this._findVideoElement(e);n?(n.currentTime=t.asset.loopStartTime||0,n.play()):console.log("player: _continueVideo: elVideo cannot be found.")},_stopVideo:function(e){var t=this._findVideoElement(e);t&&t.pause()},_startRotation:function(){this.get("rotationBegun")||(this.set("rotationBegun",!0),this._rotateBuffer(0))},_rotateBuffer:function(e){var n=this,r=this.get("nextBufferIndex"),i=(r+1)%2,a=this.get("buffer"+i),s=this.get("buffer"+r);if(t.default.run.later(function(){s.asset&&"video/webm"===s.asset.type?n._stopVideo(r):(s.set("imageStyle",t.default.String.htmlSafe("")),s.set("animationStyle",t.default.String.htmlSafe(""))),s.set("asset",void 0),t.default.run.later(function(){n._setupBuffer(r)},100)},this.get("transitionDuration")),t.default.run.later(function(){return n._rotateBuffer(0)},this.get("transitionDuration")+1e3*a.duration-e),this.set("nextBufferIndex",i),"video/webm"===a.asset.type)this._startVideo(i);else{var l=a.get("_animationStyle");a.set("animationStyle",l)}},_setupBuffer:function(e){var t=(e+1)%2,n=this.get("buffer"+e),r=this.get("buffer"+t),i=this._selectNextSlideIndex(r?r.slideIndex:0),a=this.get("playlist")[i],s=this._duration;n.set("slideIndex",i),n.set("asset",a),n.set("duration",s)},_selectNextSlideIndex:function(e){var t=this.get("playlist");if(1===t.length)return 0;var n=this._candidatesToPlay(t),r=Math.floor(this._random(n.length))%n.length,i=n[r];return n.length===t.length&&i===e&&(r=(r+1)%n.length,i=n[r]),n.splice(r,1),i},_candidatesToPlay:function(e){var t=this.get("_candidateList")||[];if(t.length)return t;for(var n=[],r=0;r<e.length;r++)n[r]=r;return this.set("_candidateList",n),n},_duration:function(){if(!window.SSBridge)return 10;var e=parseInt(window.SSBridge.userDefaultsValueForKey("ss_videoDuration"));return isNaN(e)?10:e}(),_mirrorDisplay:function(){return!!window.SSBridge&&"true"===window.SSBridge.userDefaultsValueForKey("ss_mirrorDisplay")}(),_findBufferJquery:function(e){return this.$("#"+e)},_findAssetDimension:function(e,t){var n=e.asset.type,r=void 0,i=void 0;if("video/webm"===n){var a=this.$("#"+t).find("video");r=a.get(0).videoWidth,i=a.get(0).videoHeight}else{var a=this.$("#"+t).find("img");r=a.get(0).naturalWidth,i=a.get(0).naturalHeight}return{width:r,height:i,ratio:r/i}},_findVideoElement:function(e){var t=this.$("#buffer"+e).find("video");if(t.length)return t[0]},_calcSlideStyles:function(e){var t="buffer"+e,n=this.get(t),r=this._dimensions(this._findBufferJquery(t)),i=this._findAssetDimension(n,t),a=this._calcImageSize(r,i);return this._setVideoStyle(n,r,a),this._setImageStyle(n,r,a,e),n},_dimensions:function(e){return{width:e.width(),height:e.height(),ratio:e.width()/e.height()}},_calcImageSize:function(e,t){var n={};return e.ratio>=t.ratio?(n.width=e.width,n.height=Math.ceil(n.width*t.height/t.width)):(n.height=e.height,n.width=Math.ceil(n.height*t.width/t.height)),n.ratio=n.width/n.height,n},_setVideoStyle:function(e,n,r){var i="width:"+r.width+"px;height:"+r.height+"px;",a=this._centerStyle(n,r);e.set("videoStyle",t.default.String.htmlSafe(i+a))},_centerStyle:function(e,t){return e.ratio>=t.ratio?"margin-top:"+(e.height-t.height)/2+"px;":"margin-left:"+(e.width-t.width)/2+"px;"},_animateTransition:function(){return"transition: transform "+(this._duration+this.get("transitionDuration")/1e3)+"s cubic-bezier(0.3,0,0,0.2);"},_animateZoomInStyle:function(){var e=this._duration,t=1+.1*Math.ceil(e/20);return t>1.3&&(t=1.3),this._animateTransition()+"transform:scale3d("+t+","+t+","+t+")"},_animatePanHorizontalStyle:function(e){return this._animateTransition()+"transform:translate3d("+e+"px,0px,0px);"},_animatePanVerticalStyle:function(e){return this._animateTransition()+"transform:translate3d(0px,"+e+"px,0px);"},_setImageStyle:function(e,n,r,i){var a=this.get("verticalId")||0,s=(i+a)%2,l="width:"+r.width+"px;height:"+r.height+"px;",o=this._centerStyle(n,r),d=void 0,u=void 0;if(r.width>n.width){var p=r.width-n.width;if(p/n.width<this.get("zoomPanFactor"))d=l+o,u=this._animateZoomInStyle();else{var f=r.width-n.width,c=s?0:-f;d=l+"margin-left:"+c+"px;",u=this._animatePanHorizontalStyle(s?-f:f)}}else{var p=r.height-n.height;if(p/n.height<this.get("zoomPanFactor"))d=l+o,u=this._animateZoomInStyle();else{var f=r.height-n.height,c=s?0:-f;d=l+"margin-top:"+c+"px;",u=this._animatePanVerticalStyle(s?-f:f)}}e.set("imageStyle",t.default.String.htmlSafe(d)),e.set("_animationStyle",t.default.String.htmlSafe(u))},actions:{videoEnded:function(e){this._continueVideo(e)},assetLoaded:function(e){this._calcSlideStyles(e),1!==e||this.rotationBegun||this._startRotation()}}})}),define("screensaver-player/components/player/screensaver-player/slide-buffer/template",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"gqFJe505",block:'{"statements":[["open-element","div",[]],["dynamic-attr","id",["concat",[["unknown",["bufferId"]]]]],["dynamic-attr","class",["concat",["slide ",["helper",["if"],[["get",["active"]],"show","hide"],null]]]],["dynamic-attr","style",["unknown",["size"]],null],["flush-element"],["text","\\n"],["block",["if"],[["helper",["eq"],[["get",["buffer","asset","type"]],"video/webm"],null]],null,1,0],["close-element"],["text","\\n\\n"]],"locals":[],"named":[],"yields":[],"blocks":[{"statements":[["text","      "],["open-element","div",[]],["static-attr","class","wrapper"],["dynamic-attr","style",["unknown",["buffer","animationStyle"]],null],["flush-element"],["text","\\n        "],["open-element","img",[]],["dynamic-attr","src",["concat",[["unknown",["buffer","asset","imageUrl"]]]]],["dynamic-attr","style",["unknown",["buffer","imageStyle"]],null],["dynamic-attr","onload",["unknown",["assetLoaded"]],null],["flush-element"],["close-element"],["text","\\n      "],["close-element"],["text","\\n"]],"locals":[]},{"statements":[["text","    "],["open-element","video",[]],["static-attr","type","video/mp4"],["dynamic-attr","src",["concat",[["unknown",["buffer","asset","videoUrl"]]]]],["dynamic-attr","style",["unknown",["buffer","videoStyle"]],null],["static-attr","muted",""],["dynamic-attr","onloadedmetadata",["unknown",["assetLoaded"]],null],["dynamic-attr","onended",["unknown",["videoEnded"]],null],["flush-element"],["close-element"],["text","\\n"]],"locals":[]}],"hasPartials":false}',meta:{moduleName:"screensaver-player/components/player/screensaver-player/slide-buffer/template.hbs"}})}),define("screensaver-player/components/player/screensaver-player/template",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"OQYfYyXe",block:'{"statements":[["open-element","div",[]],["static-attr","class","root"],["dynamic-attr","style",["unknown",["windowSizeStyle"]],null],["flush-element"],["text","\\n\\n    "],["append",["helper",["player/screensaver-player/slide-buffer"],null,[["bufferId","buffer","active","assetLoaded","videoEnded","size"],["buffer0",["get",["buffer0"]],["helper",["eq"],[["get",["nextBufferIndex"]],0],null],["helper",["action"],[["get",[null]],"assetLoaded",0],null],["helper",["action"],[["get",[null]],"videoEnded",0],null],["get",["windowSizeStyle"]]]]],false],["text","\\n\\n    "],["append",["helper",["player/screensaver-player/slide-buffer"],null,[["bufferId","buffer","active","assetLoaded","videoEnded","size"],["buffer1",["get",["buffer1"]],["helper",["eq"],[["get",["nextBufferIndex"]],1],null],["helper",["action"],[["get",[null]],"assetLoaded",1],null],["helper",["action"],[["get",[null]],"videoEnded",1],null],["get",["windowSizeStyle"]]]]],false],["text","\\n\\n"],["close-element"],["text","\\n"]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"screensaver-player/components/player/screensaver-player/template.hbs"}})}),define("screensaver-player/components/player/screensaver-root/component",["exports","ember"],function(e,t){e.default=t.default.Component.extend({notifyClient:t.default.inject.service("player/notify-client"),notifyContent:t.default.inject.service("player/notify-content"),playlistLoader:t.default.inject.service("player/playlist-loader"),analytics:t.default.inject.service("analytics"),browserId:-1,init:function(){this._super(),this.get("notifyClient"),this.get("notifyContent");var e=t.default.$(window),n=e.width(),r=e.height();this.set("displayWidth",n),this.set("displayHeight",r),this.startSlideShow(),0===this.browserId&&this._trackSessionTime()},splitMode:t.default.computed("displayHeight","displayWidth","stressTest",function(){return this.stressTest>0?"test":this.displayHeight>this.displayWidth?"vertical":this.displayWidth>3*this.displayHeight?"horizontal":"normal"}),halfDisplayHeight:t.default.computed("displayHeight",function(){return this.displayHeight/2}),halfDisplayWidth:t.default.computed("displayWidth",function(){return this.displayWidth/2}),stressTestArray:t.default.computed("stressTest",function(){for(var e=[],t=0;t<this.stressTest;t++)for(var n=0;n<this.stressTest;n++)e.push(1);return e}),stressTestHeight:t.default.computed("displayHeight","stressTest",function(){return Math.floor(this.displayHeight/this.stressTest)}),stressTestWidth:t.default.computed("displayWidth","stressTest",function(){return Math.floor(this.displayWidth/this.stressTest)}),startSlideShow:function(){var e=this,t=this.get("playlistLoader");t.getPlaylist().then(function(t){e.set("playlist",t)}).then(function(){var n=e.get("browserId");console.log("browserId == "+n),0===n&&(e.get("notifyClient").checkAppCast(),e.get("notifyContent").checkUpdates(),e.get("analytics").selectedPlaylist(t.playlistType))})},_trackSessionTime:function(){var e=this.get("analytics");t.default.run.later(function(){return e.screensaverPlayTime("> 1 Minute")},6e4),t.default.run.later(function(){return e.screensaverPlayTime("> 5 Minutes")},3e5),t.default.run.later(function(){return e.screensaverPlayTime("> 15 Minutes")},9e5),t.default.run.later(function(){return e.screensaverPlayTime("> 30 Minutes")},18e5),this.set("_hoursPassed",0),this._trackHoursPassed()},_trackHoursPassed:function(){var e=this;t.default.run.later(function(){e.incrementProperty("_hoursPassed"),e.get("analytics").screensaverPlayTime("> "+e.get("_hoursPassed")+" Hours"),e._trackHoursPassed()},36e5)}})}),define("screensaver-player/components/player/screensaver-root/template",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"DbwGBeQa",block:'{"statements":[["open-element","div",[]],["static-attr","class","monitor"],["flush-element"],["text","\\n"],["block",["if"],[["helper",["eq"],[["get",["splitMode"]],"vertical"],null]],null,4],["text","\\n"],["block",["if"],[["helper",["eq"],[["get",["splitMode"]],"horizontal"],null]],null,3],["text","\\n"],["block",["if"],[["helper",["eq"],[["get",["splitMode"]],"test"],null]],null,2],["text","\\n"],["block",["if"],[["helper",["eq"],[["get",["splitMode"]],"normal"],null]],null,0],["close-element"],["text","\\n"]],"locals":[],"named":[],"yields":[],"blocks":[{"statements":[["text","    "],["append",["helper",["player/screensaver-player"],null,[["width","height","globalStartTime","playlist"],[["get",["displayWidth"]],["get",["displayHeight"]],["get",["globalStartTime"]],["get",["playlist"]]]]],false],["text","\\n"]],"locals":[]},{"statements":[["text","      "],["append",["helper",["player/screensaver-player"],null,[["verticalId","width","height","globalStartTime","playlist"],[["get",["idx"]],["get",["stressTestWidth"]],["get",["stressTestHeight"]],["get",["globalStartTime"]],["get",["playlist"]]]]],false],["text","\\n"]],"locals":["x","idx"]},{"statements":[["block",["each"],[["get",["stressTestArray"]]],null,1]],"locals":[]},{"statements":[["text","\\n    "],["append",["helper",["player/screensaver-player"],null,[["verticalId","width","height","globalStartTime","playlist"],[0,["get",["halfDisplayWidth"]],["get",["displayHeight"]],["get",["globalStartTime"]],["get",["playlist"]]]]],false],["text","\\n\\n    "],["append",["helper",["player/screensaver-player"],null,[["verticalId","width","height","globalStartTime","playlist"],[1,["get",["halfDisplayWidth"]],["get",["displayHeight"]],["get",["globalStartTime"]],["get",["playlist"]]]]],false],["text","\\n\\n"]],"locals":[]},{"statements":[["text","\\n    "],["append",["helper",["player/screensaver-player"],null,[["verticalId","width","height","globalStartTime","playlist"],[0,["get",["displayWidth"]],["get",["halfDisplayHeight"]],["get",["globalStartTime"]],["get",["playlist"]]]]],false],["text","\\n\\n    "],["append",["helper",["player/screensaver-player"],null,[["verticalId","width","height","globalStartTime","playlist"],[1,["get",["displayWidth"]],["get",["halfDisplayHeight"]],["get",["globalStartTime"]],["get",["playlist"]]]]],false],["text","\\n"]],"locals":[]}],"hasPartials":false}',meta:{moduleName:"screensaver-player/components/player/screensaver-root/template.hbs"}})}),define("screensaver-player/controllers/application",["exports","ember"],function(e,t){e.default=t.default.Controller.extend({queryParams:["browserId"],browserId:-1})}),define("screensaver-player/helpers/and",["exports","ember","ember-truth-helpers/helpers/and"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.andHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.andHelper)),e.default=r}),define("screensaver-player/helpers/app-version",["exports","ember","screensaver-player/config/environment","ember-cli-app-version/utils/regexp"],function(e,t,n,r){function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.hideSha?a.match(r.versionRegExp)[0]:t.hideVersion?a.match(r.shaRegExp)[0]:a}e.appVersion=i;var a=n.default.APP.version;e.default=t.default.Helper.helper(i)}),define("screensaver-player/helpers/eq",["exports","ember","ember-truth-helpers/helpers/equal"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.equalHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.equalHelper)),e.default=r}),define("screensaver-player/helpers/gt",["exports","ember","ember-truth-helpers/helpers/gt"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.gtHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.gtHelper)),e.default=r}),define("screensaver-player/helpers/gte",["exports","ember","ember-truth-helpers/helpers/gte"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.gteHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.gteHelper)),e.default=r}),define("screensaver-player/helpers/is-array",["exports","ember","ember-truth-helpers/helpers/is-array"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.isArrayHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.isArrayHelper)),e.default=r}),define("screensaver-player/helpers/is-equal",["exports","ember-truth-helpers/helpers/is-equal"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isEqual",{enumerable:!0,get:function(){return t.isEqual}})}),define("screensaver-player/helpers/lt",["exports","ember","ember-truth-helpers/helpers/lt"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.ltHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.ltHelper)),e.default=r}),define("screensaver-player/helpers/lte",["exports","ember","ember-truth-helpers/helpers/lte"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.lteHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.lteHelper)),e.default=r}),define("screensaver-player/helpers/not-eq",["exports","ember","ember-truth-helpers/helpers/not-equal"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.notEqualHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.notEqualHelper)),e.default=r}),define("screensaver-player/helpers/not",["exports","ember","ember-truth-helpers/helpers/not"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.notHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.notHelper)),e.default=r}),define("screensaver-player/helpers/or",["exports","ember","ember-truth-helpers/helpers/or"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.orHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.orHelper)),e.default=r}),define("screensaver-player/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){e.default=t.default}),define("screensaver-player/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){e.default=t.default}),define("screensaver-player/helpers/xor",["exports","ember","ember-truth-helpers/helpers/xor"],function(e,t,n){var r=null;t.default.Helper?r=t.default.Helper.helper(n.xorHelper):t.default.HTMLBars.makeBoundHelper&&(r=t.default.HTMLBars.makeBoundHelper(n.xorHelper)),e.default=r}),define("screensaver-player/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","screensaver-player/config/environment"],function(e,t,n){var r=n.default.APP,i=r.name,a=r.version;e.default={name:"App Version",initialize:(0,t.default)(i,a)}}),define("screensaver-player/initializers/component-styles",["exports","ember","ember-component-css/pod-names","screensaver-player/mixins/style-namespacing-extras"],function(e,t,n,r){function i(){}e.initialize=i;var a=t.default.Component,s=t.default.ComponentLookup,l=t.default.computed,o=t.default.getOwner;s.reopen({componentFor:function(e,t){return t=t.hasRegistration?t:o(this),n.default[e]&&!t.hasRegistration("component:"+e)&&t.register("component:"+e,a),this._super.apply(this,arguments)}}),a.reopen(r.default,{componentCssClassName:l({get:function(){return n.default[this.get("_componentIdentifier")]||""}}),init:function(){this._super.apply(this,arguments),this.get("_shouldAddNamespacedClassName")&&(this.classNames=this.classNames.concat(this.get("componentCssClassName")))}}),e.default={name:"component-styles",initialize:i}}),define("screensaver-player/initializers/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],function(e,t){e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0];e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("screensaver-player/initializers/data-adapter",["exports"],function(e){e.default={name:"data-adapter",before:"store",initialize:function(){}}}),define("screensaver-player/initializers/ember-data",["exports","ember-data/setup-container","ember-data"],function(e,t,n){e.default={name:"ember-data",initialize:t.default}}),define("screensaver-player/initializers/export-application-global",["exports","ember","screensaver-player/config/environment"],function(e,t,n){function r(){var e=arguments[1]||arguments[0];if(!1!==n.default.exportApplicationGlobal){var r;if("undefined"!=typeof window)r=window;else if("undefined"!=typeof global)r=global;else{if("undefined"==typeof self)return;r=self}var i,a=n.default.exportApplicationGlobal;i="string"==typeof a?a:t.default.String.classify(n.default.modulePrefix),r[i]||(r[i]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete r[i]}}))}}e.initialize=r,e.default={name:"export-application-global",initialize:r}}),define("screensaver-player/initializers/injectStore",["exports"],function(e){e.default={name:"injectStore",before:"store",initialize:function(){}}}),define("screensaver-player/initializers/store",["exports"],function(e){e.default={name:"store",after:"ember-data",initialize:function(){}}}),define("screensaver-player/initializers/transforms",["exports"],function(e){e.default={name:"transforms",before:"store",initialize:function(){}}}),define("screensaver-player/initializers/truth-helpers",["exports","ember","ember-truth-helpers/utils/register-helper","ember-truth-helpers/helpers/and","ember-truth-helpers/helpers/or","ember-truth-helpers/helpers/equal","ember-truth-helpers/helpers/not","ember-truth-helpers/helpers/is-array","ember-truth-helpers/helpers/not-equal","ember-truth-helpers/helpers/gt","ember-truth-helpers/helpers/gte","ember-truth-helpers/helpers/lt","ember-truth-helpers/helpers/lte"],function(e,t,n,r,i,a,s,l,o,d,u,p,f){function c(){t.default.Helper||((0,n.registerHelper)("and",r.andHelper),(0,n.registerHelper)("or",i.orHelper),(0,n.registerHelper)("eq",a.equalHelper),(0,n.registerHelper)("not",s.notHelper),(0,n.registerHelper)("is-array",l.isArrayHelper),(0,n.registerHelper)("not-eq",o.notEqualHelper),(0,n.registerHelper)("gt",d.gtHelper),(0,n.registerHelper)("gte",u.gteHelper),(0,n.registerHelper)("lt",p.ltHelper),(0,n.registerHelper)("lte",f.lteHelper))}e.initialize=c,e.default={name:"truth-helpers",initialize:c}}),define("screensaver-player/instance-initializers/ember-data",["exports","ember-data/instance-initializers/initialize-store-service"],function(e,t){e.default={name:"ember-data",initialize:t.default}}),define("screensaver-player/mixins/style-namespacing-extras",["exports","ember-component-css/mixins/style-namespacing-extras"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("screensaver-player/resolver",["exports","ember-resolver"],function(e,t){e.default=t.default}),define("screensaver-player/router",["exports","ember","screensaver-player/config/environment"],function(e,t,n){var r=t.default.Router.extend({location:n.default.locationType,rootURL:n.default.rootURL});r.map(function(){}),e.default=r}),define("screensaver-player/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("screensaver-player/services/analytics",["exports","ember"],function(e,t){e.default=t.default.Service.extend({init:function(){this._super(),window.SSBridge?(window.ga("set","appId","lss_v2"),window.ga("set","appVersion",window.SSBridge.clientVersion)):(window.ga("set","appId","dev_v2"),window.ga("set","appVersion","development")),window.ga("set","appName","offline-player"),window.ga("set","checkProtocolTask",null),window.ga("set","location",document.location.href.replace("file","http")),window.ga("send","pageview",{page:"index.html",title:"Screensaver Player"})},getFirstRunOfDayTimestamp:function(){return window.SSBridge?parseInt(window.SSBridge.userDefaultsValueForKey("firstRunOfDayTimestamp"))||0:0},setFirstRunOfDayTimestamp:function(e){if(window.SSBridge)return void window.SSBridge.setUserDefaultsValue(e,"firstRunOfDayTimestamp")},selectedPlaylist:function(e){window.ga("set","dimension11",e),window.ga("send","event",{eventCategory:"ScreensaverPlayer",eventAction:"Selected Playlist",eventLabel:e,nonInteraction:!0});var t=this.getFirstRunOfDayTimestamp();t||window.ga("send","event",{eventCategory:"ScreensaverPlayer",eventAction:"First Run Ever",nonInteraction:!0});var n=Date.now();n>t+864e5&&(this.setFirstRunOfDayTimestamp(n),window.ga("send","event",{eventCategory:"ScreensaverPlayer",eventAction:"First Run Today",nonInteraction:!0}))},screensaverPlayTime:function(e){return window.ga("send","event",{eventCategory:"ScreensaverPlayer",eventAction:"Time Elapsed",dimension14:e,nonInteraction:!0})},notificationEvents:function(e){return window.ga("send","event",{eventCategory:"Notifications",eventAction:e,nonInteraction:!0})}})}),define("screensaver-player/services/os-notifier",["exports","ember"],function(e,t){e.default=t.default.Service.extend({analytics:t.default.inject.service("analytics"),init:function(){this._super()},_sendNativeNotification:function(e,t){return window.SSBridge?"lolscreensaver.newcontent"===e?window.SSBridge.notifyNewContent(t):"lolscreensaver.newclient"===e?window.SSBridge.notifyNewClient(t):void(t&&this.get("analytics").notificationEvents(e)):void console.log("native notification: "+e)},notifyNewContentFirstTime:function(){console.log("notifer: new content first time");this._sendNativeNotification("lolscreensaver.newcontent",!0,!0)},notifyNewContentAsReminder:function(){console.log("notifer: new content reminder");this._sendNativeNotification("lolscreensaver.newcontent",!1,!0)},notifyNewClientFirstTime:function(){console.log("notifer: new client first time");this._sendNativeNotification("lolscreensaver.newclient",!0,!0)},notifyNewClientAsReminder:function(){console.log("notifer: new client reminder");this._sendNativeNotification("lolscreensaver.newclient",!1,!0)}})}),define("screensaver-player/services/player/notify-client",["exports","ember"],function(e,t){e.default=t.default.Service.extend({notifier:t.default.inject.service("os-notifier"),init:function(){this._super(),this.get("notifier")},getAppCastUrl:function(){return window.SSBridge?window.SSBridge.appCastUrl:"http://cdev-league-screensaver-ember.s3-us-west-2.amazonaws.com/installer/master/appcast-mac.xml"},getClientVersion:function(){return window.SSBridge?window.SSBridge.clientVersion||"":"browser"},getKnownLatestVersion:function(){return window.SSBridge?window.SSBridge.knownNewestClient||"":"browser"},setKnownLatestVersion:function(e){if(window.SSBridge)return void window.SSBridge.updateKnownNewestClient(e);console.log("logging version as "+e)},checkAppCast:function(){var e=this.getAppCastUrl();e&&t.default.$.ajax({url:e,dataType:"text",success:this._compareClientVersion.bind(this)})},_compareClientVersion:function(e){var t=this._extractSparkleVersion(e);console.log("notify-client: newestVersion="+t);var n=this._getNativeVersion();console.log("notify-client: clientVersion="+n);var r=this.getKnownLatestVersion();r||(this.setKnownLatestVersion(n),r=n),"browser"!==n&&this._isNewer(t,n)&&(r===t?this.get("notifier").notifyNewClientAsReminder():(this.get("notifier").notifyNewClientFirstTime(),this.setKnownLatestVersion(t)))},_isNewer:function(e,t){return e.replace(/-.*$/,"")>t.replace(/-.*$/,"")},_getNativeVersion:function(){var e=this.getClientVersion();return"browser"===e?e:e.substring(1)},_extractSparkleVersion:function(e){var t=e.substring(e.indexOf("sparkle:version")+17);return t.substring(0,t.indexOf('"'))}})}),define("screensaver-player/services/player/notify-content",["exports","ember"],function(e,t){e.default=t.default.Service.extend({notifier:t.default.inject.service("os-notifier"),init:function(){this._super(),this.get("notifier")},getUpdatesJsonUrl:function(){return window.SSBridge?window.SSBridge.updatesJsonUrl:"http://cdev-league-screensaver-ember.s3-us-west-2.amazonaws.com/master/content/updates.json"},getCurrentNewestAssetTimestamp:function(){return window.SSBridge?parseInt(window.SSBridge.contentTimestamp)||0:0},getKnownNewestAssetTimestamp:function(){return window.SSBridge?window.SSBridge.knownNewestContent||0:0},setKnownNewestAssetTimestamp:function(e){if(window.SSBridge)return void window.SSBridge.updateKnownNewestContent(e);console.log("logging version as "+e)},_fetchUpdates:function(e){return t.default.$.get(e)},_now:function(){return Date.now()},checkUpdates:function(){var e=this,t=this.getUpdatesJsonUrl();if(t)return this._fetchUpdates(t).then(function(t){return e._handleUpdate(t)})},_newestAssetTimestamp:function(e){return e?new Date(e.versionDate).getTime():0},_handleUpdate:function(e){var t=this.getCurrentNewestAssetTimestamp(),n=this.getKnownNewestAssetTimestamp(),r=this._newestAssetTimestamp(e);this._now()-r<864e5||(r>t&&(r>n?this.get("notifier").notifyNewContentFirstTime():this.get("notifier").notifyNewContentAsReminder()),r>n&&this.setKnownNewestAssetTimestamp(r))}})}),define("screensaver-player/services/player/playlist-loader",["exports","ember"],function(e,t){e.default=t.default.Service.extend({init:function(){this._super()},getPlaylist:function(){var e=void 0;return window.PLAYLIST.custom&&window.PLAYLIST.custom.assets&&window.PLAYLIST.custom.assets.length?(e=this._usePlaylist(window.PLAYLIST.custom),this.set("playlistType","custom")):(e=this._usePlaylist(window.PLAYLIST.defaultProfile),this.set("playlistType","default")),this.set("playlist",e),t.default.RSVP.resolve(e)},_usePlaylist:function(e){return e.assets.map(function(e){return-1!==e.indexOf(".mp4")||-1!==e.indexOf(".webm")?{type:"video/webm",videoUrl:e}:{type:"image/jpeg",imageUrl:e}})}})}),define("screensaver-player/templates/application",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"0vVgeZH7",block:'{"statements":[["append",["helper",["player/screensaver-root"],null,[["browserId"],[["get",["browserId"]]]]],false],["text","\\n"]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"screensaver-player/templates/application.hbs"}})}),define("screensaver-player/config/environment",["ember"],function(e){try{var t="screensaver-player/config/environment",n=document.querySelector('meta[name="'+t+'"]').getAttribute("content"),r=JSON.parse(unescape(n)),i={default:r};return Object.defineProperty(i,"__esModule",{value:!0}),i}catch(e){throw new Error('Could not read config from meta tag with name "'+t+'".')}}),runningTests||require("screensaver-player/app").default.create({name:"screensaver-player",version:"0.0.0+2088e7b1"});